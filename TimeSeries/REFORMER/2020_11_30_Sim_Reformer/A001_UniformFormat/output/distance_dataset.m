function [y1] = distance_dataset(x1)
%DISTANCE_DATASET neural network simulation function.
%
% Auto-generated by MATLAB, 25-Feb-2022 17:55:03.
% 
% [y1] = distance_dataset(x1) takes these arguments:
%   x = 7xQ matrix, input #1
% and returns:
%   y = 6xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [650.017810034429;2.54103072375779e-06;0.0413066504833892;0.00053703958555753;0.0180183308362189;0.00256250657575826;0.000504496961841226];
x1_step1.gain = [0.00810394199048688;15.661317953303;2.66823007261471;5.9093089018053;17.0867577412738;5.23210453027247;2.72189454636156];
x1_step1.ymin = -1;

% Layer 1
b1 = [-2.0432508616672198087;-2.1323361048674325247;-1.6539903534509141636;2.0260818013443149255;0.86570740548843094775;-0.82070042362478745623;-0.45360391004915567859;-0.70182064331497329146;0.4621069378426105323;-0.05266195064063336484;1.3077672966092084295;0.6255491299536481975;-0.006779588600387954217;-0.67588852278727018508;-1.4659099241982518347;1.4557666203531964833;1.1570797112079052038;1.358664820161431086;1.860296307593645615;2.4478707081304933446;1.9453360627041380582];
IW1_1 = [0.95562107223359726849 -0.3205679657796640103 0.24010465495050997697 1.2919005509042351676 -0.099734017083818071736 0.71379848991194483343 -0.73130783908886010103;0.091208450896696866006 -0.73079535264552031304 0.64320712476520480738 0.29111926190514275659 -0.49909062035298212834 0.67973097950829408642 0.38752282512480212828;0.81752878141173790372 -0.019661930639266626819 0.55763774427746648499 -0.60752716449322019532 0.015350256295065143816 -0.0095332056204972606683 -0.41266213405312945905;0.11660392414628624469 0.063743408293592318525 0.78453867217263928424 -0.21316306212631280781 0.10951845446070780643 -0.26713671660021715004 -1.0215834663890397405;-0.19541445591382283764 0.15216451275471476468 -0.28079297176327744356 -0.53637994974367797507 0.08317559518480854841 -0.27645956496790435875 0.25287031703770784796;-0.055944368723690907075 0.018516469051387120931 -0.58231363757867937725 0.56584941027226021149 0.19744574951777904559 0.38459491231302805891 1.4232096648238163894;1.160843755284555634 -0.13962362413773460323 -0.52827009953717285473 0.24451246467534515361 -0.0051096640185188824806 0.18689837174879100901 0.098016042611880391244;0.049363962349136043806 0.34668629644549392443 -0.46903538537824551735 -0.87356875526137656163 0.47556593140195807523 -0.89847048669537799004 -0.269894685988248062;-0.5242709864991932367 -0.0034645993924963978602 0.4858244982881476659 -0.010064231467933584113 0.042482315909020199052 0.047563029394372506597 -0.583094098894879731;0.07904755404047170142 0.020167014972722319827 0.41895079375910587727 0.066288629328625087167 0.013555096366361537447 0.081071080300927259032 -0.77115356235675913688;-0.35007222346144017955 0.0027026738535829725879 1.7156748204242993072 -0.3709777963106912213 0.028492806572416779637 -0.95719504891432449778 0.59926237350484301558;0.83135494313375257747 -0.043865223259245814114 -0.92110089833373054446 0.41970976282671079716 -0.064173618120980213675 0.54188368520905727532 -0.5229827687700708827;1.1102494765166548429 -0.068449526418170633657 -2.0293217520438981971 0.87168848077297267363 -0.05793827189057478011 0.93192090519664383397 -0.93804700189076850592;-0.28718608182907762183 0.63359411775780505316 0.16761543719974819622 -0.59979267171877159726 0.67958576757117572509 -0.53540901491849290927 -0.68888615110887363446;-1.4184098084350256208 0.016538629916684716853 0.29929074996566179534 -0.11432085365571678648 0.046690389606155319191 -0.034655310324751921469 -0.42946114741854851671;1.2052985936801965394 0.016738925148118987546 0.071523545367892044089 0.24093657306817503616 0.029119110394818500942 -0.045652285998255145993 -0.52087126884331247378;0.91872546564941270919 -0.27594825051428195639 -0.38248244070404224804 -0.51239630739588049035 -0.47957195473895480875 0.24948943040059909371 -1.0704940930629083251;0.90100742584918280809 -0.39441288756718334563 0.57673902537058707729 -0.31367235103136414942 0.45379185418227191429 -0.31601889891422407786 1.0237680266638624627;0.95146463828928151685 0.0077216756417992568617 0.79616728774218348264 0.39360249040914030427 -0.27350780142170416642 0.11699051642106955695 -0.40240130264759960133;1.9255685500571686486 -0.018695975199748728068 -1.2993570601193669134 0.19778291559149691059 0.0093154907306950349155 0.334847745884917114 0.24714205113338799658;0.86702096022634778105 -0.024781235206621256978 1.190693435087358365 0.35090222307940144297 -0.22218936342785827742 0.0023022318728497933801 -0.51813911407733947989];

% Layer 2
b2 = [1.7156708215223486214;0.4144232477135322279;-0.21088572951001716138;0.42582679944042739484;0.39416081981866174511;1.312083912127216534];
IW2_1 = [-0.10861025096014424729 0.01664816369941075902 -0.25366261892138242118 0.10318980297720486972 0.00029750607631962196209 0.13820407018007432876 -0.073178599170869773616;-0.11761582541866337503 0.027898384814510585744 -0.024689578468716093934 -0.16172706072071144079 0.19297342125606159469 0.14210066887416092363 0.17062112832458936618;0.20611055996113469835 -0.087538975060756848978 -0.12605248347448691493 -0.050062487261868932054 -0.029443238003612096781 0.076895786440875316115 -0.065939694837202605937;0.44372507666341443056 -0.003223476689374691305 -0.037137556915223329801 -0.1550119313171857971 -0.013993755831703206388 -0.087233012757901712275 0.095930683414925430053;0.13174451324888483694 0.058881281229003587518 -0.08164564876474428301 -0.26059733585677558043 0.082934068312453521066 -0.10181446058266392651 0.21343931255062889574;0.21503166825007208329 0.069380756966767792582 -0.044772517198916922387 -0.092776914198052617966 0.072787476380683724386 -0.16400843541294310435 -0.16247256531044604322];
LW2_1 = [-0.29283193078620489702 0.0173843861119411143 0.098839324517971671735 0.28127306000853263823 -0.39380483040427288755 -0.070950191032938939029 0.34018030353103140273 0.018008054610505516702 -0.30035228271622582685 -0.022475966589301291793 0.20891080363690175958 0.2619263990970509548 1.0985598747198710434 -0.01494796899843996163 0.77933515815617671052 0.040852660201039572851 -0.049391352986162713468 -0.16446738988142231563 -0.27899253238675714162 0.67211335145312822714 0.28084003905998844441;-0.3288754848733433378 0.29333002376830208391 -0.014628344659578726428 -0.065821500377404626447 -0.3451301996198732347 -0.015259967629163789793 -0.15770538165038167078 0.34412228012035411817 0.10780492932117885507 0.049792467339559144668 -0.14721475413592227666 -0.33017474996039858359 0.44776346719191345569 -0.37123166651973593666 0.067264467670547625766 -0.019770762129450086819 0.19157370961123909581 -0.23556125260381727271 0.37224413813367512871 0.16908117612901868432 -0.35085493005335022243;0.13338386865552309679 -0.34649127292088599539 -0.32746089625245344834 -0.20439224409526413062 0.07412726374371249316 0.045598090477490055283 -0.26600367329685831175 0.017038601224715285015 0.14074931206844551457 -0.30369287563563068799 -0.49609926370732976286 -0.03604971662015060696 -0.45695487212003765842 0.062076989509903937603 0.02524804885728502285 0.10482930305200947874 -0.0040909316203751166369 0.04167039999809361156 0.7006544519412315486 0.13908513275673237142 -0.29277343735260835667;0.23584425421520296973 0.25761347832853409567 -0.00056322832180078505684 -0.22241771725248665748 0.061300786505204235555 0.05494097034604021601 -0.31829726301097088781 -0.18273523298412466809 -0.14372714046324092108 -0.19954000403207261538 0.064800846491778779646 -0.027246022195515615799 0.20858197970883443628 0.19924208265302897902 0.21691911747915965103 0.014685473950995541967 -0.03280916799120232874 0.10433910561555848062 0.07936514995311247378 -0.135702824903318503 -0.045642769601025943993;0.053737151409108931122 -0.016294536661759655843 0.38067642475017660075 0.43257710332971621714 0.21432680093071163063 0.35562161570594263971 -0.073995427151394371768 -0.0016874887582835735277 0.35461397880151590556 0.11550558171208963332 0.20567252047960207784 0.094419437814249801422 -0.0095132628109248044967 -0.37305266152802873947 -0.061412282500402232133 -0.17173673058311689221 -0.064982423327858890305 -0.27638640307619211089 -0.17833013158975569157 -0.39699578029515270039 0.15170700471773782003;0.24910472174090253494 -0.29974117302743485958 0.53161915729370357031 -0.30522615010355957921 0.15757357656155637771 0.11968466455778059565 -0.10899537634668048092 -0.20415122779072367165 -0.21699681742766119275 -0.17582862780181923723 -0.13515003414832293949 -0.2597015992294876563 0.157972409463963126 -0.042612294429495801984 -0.40999873525161772969 -0.06141348705908352551 0.057271430073213065726 -0.064295123808509185848 0.21585174658408853854 -0.45863141332429785413 -0.35998774056080845574];

% Layer 3
b3 = [-0.25843496935718424101;0.027334674338597878679;-0.38552354662167276356;0.90080411335413834717;-0.42544611270751159227;0.058058284603577745009];
IW3_1 = [-0.43630623180210814649 0.040351662126349427395 -0.15403926131202816396 0.13154673840452871247 -0.054168180312909361418 0.18589848132155639693 -0.21755520530599015139;0.16529487658121760907 0.01232749186212281356 0.10005084882535966728 -0.028625111316763401925 -0.0034269679556492077185 -0.11293217121649298806 -0.14358910111374206808;-0.49977195507169286381 0.016094186339710034317 0.089098777235762857685 0.19083392706250115745 0.057261108504961334698 0.067019682300496291605 0.044550987816871931435;0.17949617140138071636 0.083686701241039759824 -0.031154772693855217053 -0.054758248205400948672 0.032063722148310110083 -0.18514426509121928444 -0.18318642467936097074;0.18994423824917347488 -0.050119559165739201168 0.021390011679673734402 -0.0013454025881780712348 -0.003474174823712218238 0.10513213298645317229 -0.012283327627975348939;0.10382810664251862498 0.007033332142067186786 -0.064883889000612843256 -0.15410112703097042508 0.050988950774159567947 0.035061611631560948843 0.19640768369731839704];
LW3_1 = [-0.20001235259745545059 0.045901196223120180329 -0.13795933401603538426 -0.22059647913721661117 -0.5150559108073786696 -0.24051631796921518758 0.58871800804664597973 0.026563930295179193075 -0.42266546977490715431 0.080502980669261162139 0.31498173098021170491 -0.18144100173812097165 -0.080063486254857083035 0.19211189990867860722 0.75626867932788233162 0.15382606787256372649 0.071865024141824482284 0.15181061224241990115 -0.032627865780797862816 0.38712893344593113376 -0.12790978741681063857;0.14922330899784358449 -0.2981154117560385064 0.1060284084194702825 -0.42327604711331673348 0.13244734823616999275 0.021281063154194628656 0.13460464063788157851 -0.1152205938249097894 0.30040881964022203565 0.13440558300105637235 0.061187425142950030432 0.35169873364148324102 -0.4162117052559489716 0.030130714634417458953 -0.046150379148551815001 0.177802142837740762 -0.021904468429669192442 -0.024304225021356009456 0.30549835628776694785 0.29233879468569795579 -0.32952281147667911165;-0.13894555346862708101 0.2183285239861890159 0.28078955709807018604 0.22261215168986125956 0.2607053116123078107 -0.098463053357247476427 -0.015387432092833747133 0.16054105871550147788 -0.060405532406429707226 0.52446392997690038928 -0.015898916297059570435 -0.54203871610889164945 0.78785714515948412906 -0.20334276086447050647 -0.16750144869915314927 -0.10381975354796137145 0.073816504596769860758 -0.050910138122252673876 -0.27704834930366434298 -0.50452633972703164744 0.28153242811089840281;0.2078788156791623043 -0.35526872787811214494 0.64697499144334325027 -0.22100675603461170105 -0.14848292411071026264 0.082034688978600764364 0.22345135943163779713 -0.28466904813526072715 0.076514879101188593147 0.35400686529479269415 0.35782074740467223473 -0.21011512073626922859 0.12794774717732337876 0.13918419695210809683 -0.35881649208649635252 0.073250548532023063153 0.10177074151857853912 -0.063259744634582004696 -0.32559652356763824077 -0.27256230797649871889 -0.32840527793676982382;-0.0083920621668741486598 0.32963036582196286739 -0.22621248743977601103 0.00026075161019671090623 -0.032949632675342177546 -0.1100851535965420569 -0.33191718752577109575 0.056762354750907247081 -0.16962553165584037806 0.19050890151434737851 -0.57339913870233638615 -0.80282510926336836388 0.70679828751954132393 0.12788884107530174017 -0.10411368881216924442 -0.096666742266413308027 0.057734272119858889849 0.12265178964163832298 0.13118624752312446624 -0.31736953115593413699 -0.00026449944448947090847;-0.060281395191231053332 0.43563033019557528824 -0.12414324718747790643 0.15354476898464938794 -0.26831770738371180096 0.045580804949454413466 -0.2658178499537985906 0.039525540069822770461 -0.51620764194320856166 -0.6548917429914699051 0.2471713977099204429 0.21228865784961975516 0.12691681898547335638 0.0063557783428147534427 0.16265481230185846462 -0.18565915638546831579 0.011573305925975496677 -0.028777842812905147368 -0.28113940037507356706 0.066111405198658781956 0.318868698324764277];
LW3_2 = [-0.30807323054648982907 0.052171732774038998004 0.23518333535428720404 -0.26822285021483488476 0.40486534379859628885 0.11929159769053115925;-0.46764131944048298317 0.1795638079689419464 -0.31075951361496501058 0.16279156401621708294 0.010209888001835580595 -0.45585739260971680498;0.74997169268820229604 -0.26946472379837477229 0.78461041751375537601 0.51346587316939928947 0.10582907679959788205 -0.0026132911901699364468;-0.15660793754123061849 0.34452430798017474878 0.4623529537942392964 -0.19070395134515238933 -0.02334290441956520315 -0.97888604568530790395;0.8054277065012989123 -0.3530849717530318288 0.12400613105865609942 -0.62495131529970082696 0.3615284850120880078 0.20887128480328945312;-0.25768094362243509909 -0.32494889497918000298 0.10316851657860329206 -0.8061359379717241147 -0.098509134340056925261 0.42655640055147597822];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [15.6562384335995;2.66444115787609;5.90411556579929;17.0552908005538;5.22890295933101;2.72008791805673];
y1_step1.xoffset = [1.01283162009754e-06;0.0404144247270471;0.000513290811494057;0.0179848989236803;0.00235429129614149;0.000111408405032994];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + IW2_1*xp1 + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + IW3_1*xp1 + LW3_1*a1 + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
